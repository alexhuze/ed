<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mark Racer</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
        canvas {
            display: block;
            width: 100vw;
            height: 100vh;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3/dist/phaser.js"></script>
</head>
<body>

<script>
    const GAME_WIDTH = 800;
    const GAME_HEIGHT = 1200;

    const ROAD_TOP = 600;

    class MenuScene extends Phaser.Scene {
        constructor() {
            super("MenuScene");
        }

        preload() {

            this.load.image("sky", "./images/sky1.jpeg");
            this.load.image("road", "./images/road.jpeg");
            this.load.image("car", "./images/car.png");
        }

        create() {

            let bg = this.add.image(GAME_WIDTH/2, GAME_HEIGHT/2, "sky");
            bg.setDisplaySize(GAME_WIDTH, GAME_HEIGHT);


            this.add.text(GAME_WIDTH/2, 300, "MARK RACER", {
                fontSize: "80px",
                color: "#ffffff",
                fontStyle: "bold"
            }).setOrigin(0.5);


            let startBtn = this.add.text(GAME_WIDTH/2, 600, "START", {
                fontSize: "70px",
                color: "#ff0000"
            }).setOrigin(0.5).setInteractive();


            startBtn.on("pointerdown", () => {
                this.scene.start("GameScene");
            });
        }
    }


    class GameScene extends Phaser.Scene {
        constructor() {
            super("GameScene");
        }

        create() {

            this.sky = this.add.image(GAME_WIDTH/2, 300, "sky");
            this.sky.setDisplaySize(GAME_WIDTH, 600);


            this.road = this.add.tileSprite(GAME_WIDTH/2, 900, GAME_WIDTH, 600, "road");


            this.car = this.physics.add.sprite(75, 1000, "car");
            this.car.setScale(0.2);
            this.car.setCollideWorldBounds(true);


            this.car.body.setBoundsRectangle(
                new Phaser.Geom.Rectangle(0, ROAD_TOP, GAME_WIDTH, GAME_HEIGHT - ROAD_TOP)
            );

            this.cursors = this.input.keyboard.createCursorKeys();
        }

        update() {

            this.road.tilePositionX += 1;


            this.car.setVelocity(0);

            if (this.cursors.up.isDown) {
                this.car.setVelocityY(-200);
            } else if (this.cursors.down.isDown) {
                this.car.setVelocityY(200);
            }
        }
    }


    const config = {
        type: Phaser.AUTO,
        width: GAME_WIDTH,
        height: GAME_HEIGHT,
        physics: {
            default: 'arcade'
        },
        scene: [MenuScene, GameScene]
    };

    new Phaser.Game(config);

</script>

</body>
</html>